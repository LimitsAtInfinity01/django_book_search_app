<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title></title>
    <link rel="stylesheet" href="{% static 'style/index.css' %}">
    <link rel="stylesheet" href="{% static 'style/cards.css' %}">
</head>
<body>

    <nav>
        <ul class="navbar-list">
            <li>

                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 3H19C19.5523 3 20 3.44772 20 4V20C20 20.5523 19.5523 21 19 21H5C4.44772 21 4 20.5523 4 20V4C4 3.44772 4.44772 3 5 3Z" fill="#D2B48C"/>  <path d="M7 5H17V19H7V5Z" fill="#F5F5DC"/> <path d="M12 5L14 7L12 9L10 7L12 5Z" fill="#000"/> </svg>

            </li>
            <li class="navbar-item"><a href="{% url 'index' %}">Home</a></li>
            <div class="search">
                <form action="{% url 'index' %}" class="search-form" method="POST">
                    {% csrf_token %}
                    <div class="search-form-elements">
                        <input class="search-box" type="text" name="query" autofocus>
                        <button class="submit-search" type="submit">
                            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">
                                <circle cx="10" cy="10" r="7" stroke="black" stroke-width="2" fill="none"/>
                                <line x1="15" y1="15" x2="22" y2="22" stroke="black" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
            <li class="navbar-item"><a href="">Search</a></li>
            <li class="navbar-item"><a href="">Reviews</a></li>
            {% if user.is_authenticated %}
                <li class="navbar-item"><a href="{% url 'logout' %}">Logout</a></li>
            {% else %}
                <li class="navbar-item"><a href="{% url 'login' %}">Login</a></li>
                <li class="navbar-item"><a href="{% url 'register' %}">Register</a></li>
            {% endif %}
            <li class="navbar-item"><a href="">Profile</a></li>
        </ul>
    </nav>

    <div class="main-content">
        
        <div class="current-user">
            {% if user.is_authenticated %}
                <h3><span class="welcome">Welcome, </span><span class="user-name">{{ user.username }}</span></h3>
                    <a class="reading-list" href="{% url 'user_reading_list' %}">My Readig List</a>
                    <a class="reviews" href="{% url 'user_reviews_page' %}">My Reviews</a>
            {% endif %}
        </div>

        <div class="book_container" >
            {% if books %}

                {% for book in books %}

                    <div class="book-card">
                        <a href="{{ book.bookUrl }}">
                            <h2 class="book-title">{{ book.title }}</h2>
                        </a>
                        <h3 class="book-subtitle">Subtitle: {{ book.subtitle }}</h3>
                        <div class="book-image-container">
                            <a href="{{ book.bookUrl }}">
                                <img src="{{ book.cover_url }}" alt="" class="book-image">
                            </a>
                        </div>
                        <div class='author-container'>
                            <p class='author-heading'>Authors</p>
                            <p class="book-authors">

                                {% for author in book.author_name %}
                                    {{ author }}
                                {% endfor %}

                                
                            </p>
                        </div>
                        <div class='language-container'>
                            <p class='languages-heading'>Languages</p>
                            <ul class="book-languages">
                                
                                    {% for lan in book.language %}
                                        <li>{{ lan }}</li>
                                    {% endfor %}
                                
                            </ul>
                        </div>
                        <span hidden class='hidden-key'>{{ book.key }}</span>
                        <p class="book-year">Year published: {{ book.first_publish_year }} </p>
                    </div>

                {% endfor %}

            {% endif %}
        
        </div>
    </div>

    <!-- <script src="{% static 'scripts/book_search_class.js' %}" type="module"></script>
    <script src="{% static 'scripts/script.js' %}" type="module"></script> -->

</body>
</html>
