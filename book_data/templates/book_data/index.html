<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title>
        Bookish App
    </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'style/index.css' %}">
    <link rel="stylesheet" href="{% static 'style/cards.css' %}">

</head>
<body>

    <nav>
        <ul class="navbar-list">
            <li>

                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 3H19C19.5523 3 20 3.44772 20 4V20C20 20.5523 19.5523 21 19 21H5C4.44772 21 4 20.5523 4 20V4C4 3.44772 4.44772 3 5 3Z" fill="#D2B48C"/>  <path d="M7 5H17V19H7V5Z" fill="#F5F5DC"/> <path d="M12 5L14 7L12 9L10 7L12 5Z" fill="#000"/> </svg>

            </li>
            <li class="navbar-item"><a href="{% url 'index' %}">Home</a></li>
            <div class="search">
                <form action="{% url 'index' %}" class="search-form" method="GET">
                    {% csrf_token %}
                    <div class="search-form-elements">
                        <input class="search-box" type="text" name="query" autofocus>
                        <button class="submit-search" type="submit">
                            <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">
                                <circle cx="10" cy="10" r="7" stroke="black" stroke-width="2" fill="none"/>
                                <line x1="15" y1="15" x2="22" y2="22" stroke="black" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </div>
            <li class="navbar-item"><a href="">Search</a></li>
            <li class="navbar-item"><a href="">Reviews</a></li>
            {% if user.is_authenticated %}
                <li class="navbar-item"><a href="{% url 'logout' %}">Logout</a></li>
            {% else %}
                <li class="navbar-item"><a href="{% url 'login' %}">Login</a></li>
                <li class="navbar-item"><a href="{% url 'register' %}">Register</a></li>
            {% endif %}
            <li class="navbar-item"><a href="">Profile</a></li>
        </ul>
    </nav>

    <div class="main-content">
        
        <div class="message">

            {% if messages %}
                {% for message in messages %}
        `           {% if message.tags == 'success' %}
        
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                </symbol>
                                <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                </symbol>
                                <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                </symbol>
                            </svg>
                            
                            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
                            
                                    <strong>{{ message }}</strong>
                                
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        
                        </div>
        
                    {% elif message.tags == 'error' %}
                        
                        <div class="alert alert-warning d-flex align-items-center alert-dismissible fade show" role="alert">
        
                            <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
                                  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                </symbol>
                                <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
                                  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                </symbol>
                                <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                                  <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                </symbol>
                            </svg>
        
                            <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:"><use xlink:href="#exclamation-triangle-fill"/></svg>
                            <div>
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        </div>
        
                    {% endif %}
        
                {% endfor %}    
        
            {% endif %}
        
        </div>


        <div class="current-user">
            {% if user.is_authenticated %}
                <h3><span class="welcome">Welcome, </span><span class="user-name">{{ user.username }}</span></h3>
                <div class="icons-container">
                    <div class="reading-list-icon"> 
                        <!-- Uploaded to: SVG Repo, www.svgrepo.com, Transformed by: SVG Repo Mixer Tools -->
                        <svg class="bookmark-icon" width="180px" height="180px" viewBox="0 0 16.00 16.00" xmlns="http://www.w3.org/2000/svg" fill="#000000" transform="rotate(0)matrix(1, 0, 0, 1, 0, 0)" stroke="#000000" stroke-width="0.00016">

                            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                            
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#000000" stroke-width="0.032"/>
                            
                            <g id="SVGRepo_iconCarrier"> <g color="#000000" font-weight="400" font-family="sans-serif" white-space="normal" fill="black"> <path d="M0 1v13h6c.975 0 1.602.8 1.602.8l.39.518.4-.51s.65-.79 1.608-.808v-1h-.008c-1.025.015-1.624.478-1.988.824A2.791 2.791 0 0 0 6 13H1V2h5c.983 0 1.6.799 1.6.799l.4.535.4-.535S9.017 2 10 2v7l3-1V1h-3c-1.036 0-1.635.465-2 .82C7.635 1.465 7.036 1 6 1zm14 0v1h1v8h1V1zM3 4v1h3V4zm0 2v1h3V6zm0 2v1h3V8zm0 2v1h3v-1z" style="line-height:normal;font-variant-ligatures:none;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;text-transform:none;shape-padding:0;isolation:auto;mix-blend-mode:normal;marker:none" overflow="visible"/> <path d="M13 11v2h-2v1h2v2h1v-2h2v-1h-2v-2z" style="line-height:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;text-transform:none;isolation:auto;mix-blend-mode:normal;marker:none" overflow="visible"/> </g> </g>
                            
                        </svg>
                        <a class="reading-list" href="{% url 'user_reading_list' %}">My Readig List</a>
                    </div>
                    
                    <div class="review-list-icon">
                        
                        <!-- Uploaded to: SVG Repo, www.svgrepo.com, Transformed by: SVG Repo Mixer Tools -->
                        <svg class="review-icon" version="1.1" id="WRITE" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 0 1800.00 1800.00" enable-background="new 0 0 1800 1800" xml:space="preserve" fill="#000000" stroke="#000000" stroke-width="0.018000000000000002">

                            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                            
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                            
                            <g id="SVGRepo_iconCarrier"> <g> <path fill="black" d="M241.023,324.818c0.252,0,0.505,0.035,0.758,0.035h465.68c17.266,0,31.256-13.99,31.256-31.252 c0-17.262-13.99-31.247-31.256-31.247H351.021h-109.24c-17.258,0-31.252,13.985-31.252,31.247 C210.529,310.605,224.121,324.412,241.023,324.818z"/> 
                                <path fill="" d="M210.529,450.306c0,17.257,13.994,31.252,31.252,31.252h769.451c17.262,0,31.256-13.995,31.256-31.252 c0-17.266-13.994-31.252-31.256-31.252H241.781C224.523,419.054,210.529,433.04,210.529,450.306z"/> 
                                <path fill="" d="M1011.232,575.751H241.781c-8.149,0-15.549,3.147-21.116,8.261c-6.213,5.712-10.136,13.879-10.136,22.987 c0,17.262,13.994,31.26,31.252,31.26h769.451c17.262,0,31.256-13.999,31.256-31.26c0-9.108-3.923-17.275-10.141-22.987 C1026.781,578.898,1019.386,575.751,1011.232,575.751z"/> 
                                <path fill="" d="M1011.232,732.461H241.781c-17.258,0-31.252,13.99-31.252,31.247c0,17.262,13.994,31.257,31.252,31.257 h769.451c17.262,0,31.256-13.995,31.256-31.257C1042.488,746.451,1028.494,732.461,1011.232,732.461z"/> 
                                <path fill="" d="M1011.232,889.157H241.781c-8.149,0-15.549,3.147-21.116,8.261c-6.213,5.713-10.136,13.879-10.136,22.987 c0,17.257,13.994,31.261,31.252,31.261h769.451c17.262,0,31.256-14.004,31.256-31.261c0-9.108-3.923-17.274-10.141-22.987 C1026.781,892.305,1019.386,889.157,1011.232,889.157z"/> 
                                <path fill="" d="M1011.232,1045.867H241.781c-17.258,0-31.252,13.99-31.252,31.243c0,17.271,13.994,31.265,31.252,31.265 h769.451c17.262,0,31.256-13.994,31.256-31.265C1042.488,1059.857,1028.494,1045.867,1011.232,1045.867z"/> 
                                <path fill="" d="M1011.232,1202.576H241.781c-17.258,0-31.252,13.995-31.252,31.252c0,17.258,13.994,31.252,31.252,31.252 h769.451c17.262,0,31.256-13.994,31.256-31.252C1042.488,1216.571,1028.494,1202.576,1011.232,1202.576z"/> 
                                <path fill="" d="M1011.232,1359.273H241.781c-8.149,0-15.549,3.151-21.116,8.265c-6.213,5.713-10.136,13.875-10.136,22.987 c0,17.258,13.994,31.261,31.252,31.261h769.451c17.262,0,31.256-14.003,31.256-31.261c0-9.112-3.923-17.274-10.141-22.987 C1026.781,1362.425,1019.386,1359.273,1011.232,1359.273z"/> <path fill="#333333" d="M1233.542,251.228l-49.851-45.109L1052.136,87.076l-59.185-53.554c-5.293-4.792-11.947-7.421-18.786-7.836 h-3.49H83.676c-45.688,0-82.858,37.375-82.858,83.316v1583.612c0,45.94,37.17,83.316,82.858,83.316h1078.562 c45.68,0,82.845-37.376,82.845-83.316V277.08v-3.182C1244.646,264.73,1240.261,256.589,1233.542,251.228z M1003.117,125.864 l131.119,118.657h-131.119V125.864z M1183.691,1692.613c0,12.094-9.622,21.926-21.454,21.926H83.676 c-11.836,0-21.467-9.832-21.467-21.926V109.001c0-12.089,9.631-21.925,21.467-21.925h857.857V275.38 c0,17.052,13.785,30.862,30.786,30.862h211.372V1692.613z"/> <path fill="#333333" d="M1798.578,180.737c-7.049-88.305-81.114-158.02-171.205-158.02c-0.004,0-0.004,0-0.004,0 c-45.889,0-89.033,17.874-121.479,50.32c-29.18,29.175-46.519,67.005-49.73,107.699h-0.586v13.609c0,0.06-0.005,0.115-0.005,0.175 c0,0.026,0.005,0.056,0.005,0.082l-0.005,1369.26h0.197c0.557,5.404,2.522,10.731,6.047,15.373l141.135,185.91 c5.803,7.648,14.851,12.136,24.447,12.136c9.601-0.004,18.646-4.496,24.447-12.14l141.093-185.897 c3.528-4.65,5.494-9.982,6.051-15.391h0.197V180.737H1798.578z M1549.299,116.448c20.854-20.855,48.578-32.339,78.07-32.339h0.004 c50.24,0,92.746,33.723,106.076,79.718h-212.19C1526.358,146.098,1535.896,129.852,1549.299,116.448z M1595.372,1502.468 l-78.413,0.005l0.005-1260.345h220.828v1260.336h-81.103l0.009-1016.486l-61.335,0.004L1595.372,1502.468z M1627.382,1695.821 l-100.171-131.963l200.338-0.004L1627.382,1695.821z"/> 
                            </g> </g>
                            
                        </svg>

                        <a class="reviews" href="{% url 'user_reviews_page' %}">My Reviews</a>    
                    </div>
                </div>    
            {% endif %}
        </div>

        <div class="page-description">

            <div class="text-container">
                <h1>Welcome to <span class="bookish">Bookish!</span></h1> 
                <h2>Your favorite place for all book things!</h2>
                <p>
                    We're delighted to have you here. Our site is a community built for passionate readers like you. Whether you're looking to discover new titles, share your thoughts on your favorite books, or simply connect with fellow book lovers, you're in the right place.
                </p>
    
                
                <h3>What Can You Do Here?</h3>
                
                <ul class="list-description">
                    <li><span class="bold-bullet">Search for Books:</span> Dive into our extensive catalog using our intuitive search tool. Find books by title, author, or keyword and explore a wide selection of recommendations.</li>
                    <li><span class="bold-bullet">Explore Book Details:</span> Get all the insights you need—read descriptions, view covers, and check out detailed information on each book.</li>
                    <li><span class="bold-bullet">Write and Share Reviews:</span> Love a book? Let us know! Write reviews to share your opinions and help others decide on their next read.</li>
                    <li><span class="bold-bullet">Join the Conversation:</span> Engage with our vibrant community by commenting on reviews and discussing your favorite reads.</li>
                    <li><span class="bold-bullet">Manage Your Reading List:</span> Save books you’re interested in to your personal reading list. It’s a great way to keep track of what you want to read next.</li>
                </ul>
                <p>Getting started is easy—simply sign up or log in to access all these features and more. We’re here to make your reading journey enjoyable and engaging. Enjoy your stay and happy reading!</p>
    
            </div>

            <div class="image" style="background-image: url('{% static 'images/book4.jpg' %}');"></div>

        </div>

        <div class="book_container" >

           
            {% if books %}

                {% for book in books %}

                    <div class="book-card">

                        <div class="title-heading">
                            <a href="{{ book.bookUrl }}">
                                <h2 class="book-title">{{ book.title }}</h2>
                            </a>
                            {% if subtitle%}
                                <h3 class="book-subtitle">Subtitle: {{ book.subtitle }}</h3>
                            {% endif %}
                        </div>
                        
                        
                        <div class="book-image-container">
                            <a href="{{ book.bookUrl }}">
                                <img src="{{ book.cover_url }}" alt="" class="book-image">
                            </a>
                        </div>

                        <div class='author-container'>
                            <span class='author-heading'>Authors</span>
                           

                            {% for author in book.author_name %}
                                <span class="book-authors">
                                    {{ author }}
                                </span>
                            {% endfor %}

                                
                            
                        </div>
                        <div class='language-container'>
                            <p class='languages-heading'>Languages</p>
                            <ul class="book-languages">
                                
                                    {% for lan in book.language %}
                                        <li>{{ lan }}</li>
                                    {% endfor %}
                                
                            </ul>
                        </div>
                        <span hidden class='hidden-key'>{{ book.key }}</span>
                        <p class="book-year">Year published: {{ book.first_publish_year }} </p>
                        <a class="reading-list-link" href="{% url 'add_reading_list' book.cleaned_key book.cover_edition_key %}?next={{ request.get_full_path|urlencode }}">Add to reading list!</a>

                    </div>

                {% endfor %}

            {% endif %}
        
        </div>
    </div>

    <!-- <script src="{% static 'scripts/book_search_class.js' %}" type="module"></script>
    <script src="{% static 'scripts/script.js' %}" type="module"></script> -->

</body>
</html>
