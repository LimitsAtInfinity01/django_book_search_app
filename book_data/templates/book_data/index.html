{% extends 'book_data/layout.html' %}

{% load static %}

{% block extra_css %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'style/index.css' %}">
    <link rel="stylesheet" href="{% static 'style/cards.css' %}">
{% endblock %}


{% block title %}
    Home
{% endblock %}


{% block content %}

    <body>

        <div class="main-content">
            
            <div class="message">

                {% if messages %}
                    {% for message in messages %}
            `           {% if message.tags == 'success' %}
            
                            <div class="alert alert-success alert-dismissible fade show" role="alert">
                                
                                <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                    <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                    </symbol>
                                    <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                    </symbol>
                                    <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                    </symbol>
                                </svg>
                                
                                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
                                
                                        <strong>{{ message }}</strong>
                                    
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            
                            </div>
            
                        {% elif message.tags == 'error' %}
                            
                            <div class="alert alert-warning d-flex align-items-center alert-dismissible fade show" role="alert">
            
                                <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                                    <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                    </symbol>
                                    <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                    </symbol>
                                    <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                    </symbol>
                                </svg>
            
                                <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Warning:"><use xlink:href="#exclamation-triangle-fill"/></svg>
                                <div>
                                {{ message }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
            
                        {% endif %}
            
                    {% endfor %}    
            
                {% endif %}
            
            </div>

            <div class="book_container" >

                {% if books %}

                    {% for book in books %}

                        <div class="book-card">

                            <div class="title-heading">
                                <a href="{{ book.bookUrl }}">
                                    <h2 class="book-title">{{ book.title }}</h2>
                                </a>
                                {% if subtitle%}
                                    <h3 class="book-subtitle">Subtitle: {{ book.subtitle }}</h3>
                                {% endif %}
                            </div>
                            
                            
                            <div class="book-image-container">
                                <a href="{{ book.bookUrl }}">
                                    <img src="{{ book.cover_url }}" alt="" class="book-image">
                                </a>
                            </div>

                            <div class='author-container'>
                                <span class='author-heading'>Authors</span>
                            

                                {% for author in book.author_name %}
                                    <span class="book-authors">
                                        {{ author }}
                                    </span>
                                {% endfor %}

                                    
                                
                            </div>
                            <div class='language-container'>
                                <p class='languages-heading'>Languages</p>
                                <ul class="book-languages">
                                    
                                        {% for lan in book.language %}
                                            <li>{{ lan }}</li>
                                        {% endfor %}
                                    
                                </ul>
                            </div>
                            <span hidden class='hidden-key'>{{ book.key }}</span>
                            <p class="book-year">Year published: {{ book.first_publish_year }} </p>

                        </div>

                    {% endfor %}

                        {% else %}

                        <div class="page-description">

                            <div class="text-container">
                                <h1>Welcome to <span class="bookish">Bookish! {{ user.username }}</span></h1> 
                                <h2>Your favorite place for all book things!</h2>
                                <p>
                                    We're delighted to have you here. Our site is a community built for passionate readers like you. Whether you're looking to discover new titles, share your thoughts on your favorite books, or simply connect with fellow book lovers, you're in the right place.
                                </p>
                    
                                
                                <h3>What Can You Do Here?</h3>
                                
                                <ul class="list-description">
                                    <li><span class="bold-bullet">Search for Books:</span> Dive into our extensive catalog using our intuitive search tool. Find books by title, author, or keyword and explore a wide selection of recommendations.</li>
                                    <li><span class="bold-bullet">Explore Book Details:</span> Get all the insights you need—read descriptions, view covers, and check out detailed information on each book.</li>
                                    <li><span class="bold-bullet">Write and Share Reviews:</span> Love a book? Let us know! Write reviews to share your opinions and help others decide on their next read.</li>
                                    <li><span class="bold-bullet">Join the Conversation:</span> Engage with our vibrant community by commenting on reviews and discussing your favorite reads.</li>
                                    <li><span class="bold-bullet">Manage Your Reading List:</span> Save books you’re interested in to your personal reading list. It’s a great way to keep track of what you want to read next.</li>
                                </ul>
                                <p>Getting started is easy—simply sign up or log in to access all these features and more. We’re here to make your reading journey enjoyable and engaging. Enjoy your stay and happy reading!</p>
                    
                            </div>
            
                        </div>

                {% endif %}
            
            </div>
        </div>

    </body>

{% endblock %}
